function eratedServiceProvider(){var e="";this.setApiKey=function(r){e=r},this.$get=["$q","$http","angularLoad",function(r,a,t){function i(){return e}function n(e){var t=r.defer();return a.get("//api.erated.co/v1/users/"+e+"?partner="+i()).success(function(e){t.resolve(e)}).error(function(e,r){t.reject(e)}),t.promise}function o(){t.loadScript("//cdn.erated.co/iframe/erated_imp.js")}function u(r){reviews=[],window.eRated={config:{align:r.align,key:e,color:r.color,reputationMode:"marketplace",privacy:{firstNameOnly:!1},view:r.view,type:"html",width:380},userData:{name:r.username,sha1Email:r.emailhash,location:r.location,image:r.image,reputationData:{numberOfReviews:0,percentPositiveReviews:0,reviews:reviews}}}}var c={apiKey:e,getApiKey:i,getUserProfile:n,loadSetupScript:o,setupVars:u};return c}]}function eratedPlugin(e){var r='<div class="erated"></div>';return{restrict:"EA",link:function(r,a,t){var i=t;e.loadSetupScript(),e.setupVars(i)},template:r}}angular.module("angular-erated",["angularLoad"]),angular.module("angular-erated").provider("eratedService",[eratedServiceProvider]),angular.module("angular-erated").directive("eratedplugin",["eratedService",eratedPlugin]);