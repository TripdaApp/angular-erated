function eratedServiceProvider(){var e="",r={};this.setApiKey=function(r){e=r},this.setDefaultConfig=function(e){r=e},this.$get=["$q","$http","angularLoad",function(t,a,i){function n(){return e}function o(e){var r=t.defer();return a.get("//api.erated.co/v1/users/"+e+"?partner="+n()).success(function(e){r.resolve(e)}).error(function(e,t){r.reject(e)}),r.promise}function u(){return r}function c(){i.loadScript("//cdn.erated.co/iframe/erated_imp.js")}function d(r){reviews=[],window.eRated={config:{align:r.align,key:e,color:r.color,reputationMode:"marketplace",privacy:{firstNameOnly:!1},view:r.view,type:"html",width:380},userData:{name:r.username,sha1Email:r.emailhash,location:r.location,image:r.image,reputationData:{numberOfReviews:0,percentPositiveReviews:0,reviews:reviews}}};var t=l.getDefaultConfig();for(var a in t)window.eRated.config[a]=t[a];return window.eRated}var l={apiKey:e,getApiKey:n,getUserProfile:o,getDefaultConfig:u,loadSetupScript:c,setupVars:d};return l}]}function eratedPlugin(e){var r='<div class="erated"></div>';return{restrict:"EA",link:function(r,t,a){var i=a;e.loadSetupScript(),e.setupVars(i)},template:r}}angular.module("angular-erated",["angularLoad"]),angular.module("angular-erated").provider("eratedService",[eratedServiceProvider]),angular.module("angular-erated").directive("eratedplugin",["eratedService",eratedPlugin]);