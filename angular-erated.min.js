function eratedServiceProvider(){var e="";this.setApiKey=function(r){e=r},this.$get=["$q","$http","angularLoad",function(r,a,i){function t(){return e}function n(e){var i=r.defer();return a.get("//api.erated.co/v1/users/"+e+"?partner="+t()).success(function(e){i.resolve(e)}).error(function(e,r){i.reject(e)}),i.promise}function o(){i.loadScript("//cdn.erated.co/iframe/erated_imp.js")}function u(r){"undefined"==typeof r&&(r={}),r.align||(r.align="horizontal"),r.view||(r.view="buyer"),r.emailhash||(r.emailhash="9999999"),r.username||(r.username="username"),reviews=[],window.eRated={config:{align:r.align,key:e,color:r.color,reputationMode:"marketplace",privacy:{firstNameOnly:!1},view:r.view,type:"html",width:380},userData:{name:r.username,sha1Email:r.emailhash,location:r.location,image:r.image,reputationData:{numberOfReviews:0,percentPositiveReviews:0,reviews:reviews}}}}var l={apiKey:e,getApiKey:t,getUserProfile:n,loadSetupScript:o,setupVars:u};return l}]}function eratedPlugin(e){var r='<div class="erated"></div>';return{restrict:"EA",link:function(r,a,i){var t=i;e.loadSetupScript(),e.setupVars(t)},template:r}}angular.module("angular-erated",["angularLoad"]),angular.module("angular-erated").provider("eratedService",[eratedServiceProvider]),angular.module("angular-erated").directive("eratedplugin",["eratedService",eratedPlugin]);